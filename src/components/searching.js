/**
 * –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ–∏—Å–∫–∞ –ø–æ —Ç–∞–±–ª–∏—Ü–µ.
 *
 * @param {string} searchField - –∏–º—è –ø–æ–ª—è –≤–≤–æ–¥–∞, –∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–≥–æ –¥–ª—è –ø–æ–∏—Å–∫–∞
 * @returns {Function} —Ñ—É–Ω–∫—Ü–∏—è, –¥–æ–±–∞–≤–ª—è—é—â–∞—è –ø–∞—Ä–∞–º–µ—Ç—Ä `search` –≤ query –ø—Ä–∏ –µ–≥–æ –Ω–∞–ª–∏—á–∏–∏
 */
export function initSearching(searchField) {
  /**
   * –î–æ–±–∞–≤–ª—è–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä –ø–æ–∏—Å–∫–∞ –≤ query-–æ–±—ä–µ–∫—Ç, –µ—Å–ª–∏ –ø–æ–ª–µ –Ω–µ –ø—É—Å—Ç–æ–µ.
   *
   * @param {Object} query - —Ç–µ–∫—É—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞
   * @param {Object} state - —Å–æ—Å—Ç–æ—è–Ω–∏–µ –≤—Å–µ—Ö –ø–æ–ª–µ–π —Ñ–æ—Ä–º—ã —Ç–∞–±–ª–∏—Ü—ã
   * @param {HTMLElement?} action - —ç–ª–µ–º–µ–Ω—Ç, –≤—ã–∑–≤–∞–≤—à–∏–π –¥–µ–π—Å—Ç–≤–∏–µ (–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –Ω–æ –æ—Å—Ç–∞–≤–ª–µ–Ω –¥–ª—è —É–Ω–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Å–∏–≥–Ω–∞—Ç—É—Ä—ã)
   * @returns {Object} –æ–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–π query —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º `search`
   */
  return (query, state, action) => {
    // üîπ –ï—Å–ª–∏ –≤ –ø–æ–ª–µ –ø–æ–∏—Å–∫–∞ –µ—Å—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ ‚Äî –¥–æ–±–∞–≤–ª—è–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä `search` –≤ –∑–∞–ø—Ä–æ—Å
    return state[searchField]
      ? Object.assign({}, query, { search: state[searchField] })
      // üîπ –ï—Å–ª–∏ –ø–æ–ª–µ –ø—É—Å—Ç–æ–µ ‚Äî –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –∏—Å—Ö–æ–¥–Ω—ã–π query –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π
      : query;
  };
}
